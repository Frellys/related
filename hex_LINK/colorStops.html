<!DOCTYPE html>
<html>
<head>
    <title>colorStops</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        html {
            /*user-select: none;*/
            overflow: hidden;
            font-family: monospace;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: whitesmoke;
            color: #323232;
            display: table-cell;
            height: 100vh;
            width: 100vw;
            vertical-align: middle;
        }

        #wrap {
            display: table;
            margin: 0 auto;
        }

            #wrap > #model {
                margin: 0 0 2vmin 0;
                padding: 0 2vmin 2vmin 2vmin;
                border-bottom: 1px solid rgba(50, 50, 50, 0.25);
            }

                #wrap > #model > div {
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                }

            #wrap > #base {
                margin: 0 0 2vmin 0;
                padding: 0 2vmin 2vmin 2vmin;
                border-bottom: 1px solid rgba(50, 50, 50, 0.25);
            }

                #wrap > #base > div > input {
                    outline: none;
                    border: none;
                    border-bottom: 1px solid rgba(50, 50, 50, 0.75);
                    padding: 1px 1vmin;
                    background-color: transparent;
                    color: #323232;
                    font-family: monospace;
                }
    </style>
</head>
<body>
    <div id="wrap">
        <div id="model">
            <div>
                <input id="hex" type="checkbox">
                <label for="hex">hex</label>
            </div>
            <div>
                <input id="rgb" type="checkbox">
                <label for="rgb">rgb</label>
            </div>
        </div>
        <div id="base">
            <div>
                <span>from:&nbsp;</span>
                <input id="from" value="#000000">
            </div>
            <div>
                <span>&nbsp;&nbsp;to:&nbsp;</span>
                <input id="to" value="#ffffff">
            </div>
        </div>
    </div>
    <script>
        // model
        let hex = document.querySelector('#wrap > #model > div > input#hex');
        let rgb = document.querySelector('#wrap > #model > div > input#rgb');
        hex.checked = true;
        rgb.checked = false;
        hex.addEventListener('change', switchModel, false);
        rgb.addEventListener('change', switchModel, false);
        function switchModel(e) {
            let from = document.querySelector('#wrap > #base > div > input#from');
            let to = document.querySelector('#wrap > #base > div > input#to');
            let fr = from.value[0] == '#' ? parseInt(from.value.substring(1, 3), 16) : from.value.split(',')[0];
            let fg = from.value[0] == '#' ? parseInt(from.value.substring(3, 5), 16) : from.value.split(',')[1];
            let fb = from.value[0] == '#' ? parseInt(from.value.substring(5, 7), 16) : from.value.split(',')[2];
            //let fr = hex.checked ? from.value.split(',')[0] : from.value.substring(1, 3);
            //let fg = hex.checked ? from.value.split(',')[1] : from.value.substring(3, 5);
            //let fb = hex.checked ? from.value.split(',')[2] : from.value.substring(5, 7);
            let tr = from.value[0] == '#' ? parseInt(to.value.substring(1, 3), 16) : to.value.split(',')[0];
            let tg = from.value[0] == '#' ? parseInt(to.value.substring(3, 5), 16) : to.value.split(',')[1];
            let tb = from.value[0] == '#' ? parseInt(to.value.substring(5, 7), 16) : to.value.split(',')[2];
            //let tr = hex.checked ? to.value.split(',')[0] : to.value.substring(1, 3);
            //let tg = hex.checked ? to.value.split(',')[1] : to.value.substring(3, 5);
            //let tb = hex.checked ? to.value.split(',')[2] : to.value.substring(5, 7);
            //from.value = '';
            //from.value = from.value[0] == '#' ? '#' + fr + fg + fb : fr + ',' + fg + ',' + fb;
            //to.value = '';
            //to.value = to.value[0] == '#' ? '#' + tr + tg + tb : tr + ',' + tg + ',' + tb;
            from.value = '';
            from.value = from.value[0] == '#' ? fr + ',' + fg + ',' + fb : '#' + fr + fg + fb;
            to.value = '';
            to.value = to.value[0] == '#' ? tr + ',' + tg + ',' + tb : '#' + tr + tg + tb;
            if (e.target.id == 'hex') {
                if (hex.checked) {
                    rgb.checked = false;
                }
                else {
                    rgb.checked = true;
                }
            }
            else {
                if (rgb.checked) {
                    hex.checked = false;
                }
                else {
                    hex.checked = true;
                }
            }
        }
    </script>
</body>
</html>